<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
     <title>Max Score</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js" integrity="sha512-GZ1RIgZaSc8rnco/8CXfRdCpDxRCphenIiZ2ztLy3XQfCbQUSCuk8IudvNHxkRA3oUg6q0qejgN/qqyG1duv5Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ext-language_tools.min.js" integrity="sha512-8qx1DL/2Wsrrij2TWX5UzvEaYOFVndR7BogdpOyF4ocMfnfkw28qt8ULkXD9Tef0bLvh3TpnSAljDC7uyniEuQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Asap:ital,wght@1,500&family=Fredoka+One&family=Marck+Script&family=Merienda:wght@700&family=Parisienne&family=Source+Code+Pro:wght@600&family=Varela+Round&display=swap" rel="stylesheet">
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/highlight.js@11.2.0/styles/monokai.css"
    />
  <link href="https://fonts.googleapis.com/css2?family=Mulish:wght@300&family=Source+Code+Pro:wght@300&family=Spartan:wght@500&display=swap" rel="stylesheet">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="style.css">
   <!--  <link rel="stylesheet" href="query.css"> -->


  </head>
  <body>
  <div class="article1">
    <div class="article-1-outerbox">
        <div class="Circles hide-on-med-and-down">
          <div class="c1"></div>
          <div class="c2"></div>
        </div>
        <div class="topic-name">
            <p>Max Score</p> 
        </div>
        <a class="ca3-scroll-down-link ca3-scroll-down-arrow " data-ca3_iconfont="ETmodules" data-ca3_icon="">
            <i class="fa fa-chevron-down"></i>
        </a>
        <br><br><br><br>
        <div class="qoute">
            <br><br>
            <p>
              A goal should scare you a little, and excite you a lot.<br>- Joe Vitale

            </p>
            <i class="fa fa-quote-right qoute-icon"></i>
        </div>
    </div>
    <div class="question-logo"><i class="fa fa-quora"></i></div>
    <div class="ques-info">Max Score</div>
    <div class="article-info">
        <div class="article-divider" style="margin-top:0px ;"></div>
        <div class="article-content">
          <div class="content">
            <p>Welcome back, dear reader. So, how is it going? In this article we will discuss the problem MAX SCORE.  Have a look at the sample input to understand the problem.
            </p>
            <div class="img"><img class="articleImages" name="max-score_1.png" alt="img" /></div><br>
            
            <p><b>Important Links :</b> <a href="https://www.pepcoding.com/resources/data-structures-and-algorithms-in-java-levelup/recursion-and-backtracking/max-score-official/ojquestion" target="_blank">Problem Link</a>, <a href="https://youtu.be/XtmW3a8Q9M4" target="_blank">Question Video</a> , <a href="https://youtu.be/XtmW3a8Q9M4" target="_blank">Solution Video</a> </p><br>
             
            <p>Wait, what is this weird input and what do we have to do in this question? Let’s see. 
            </p>              
         

           </div>
        </div>
       
        <div class="understandingProb">
          <div class="sub-heading-2">Problem Explanation:
          </div>
            <div class="content">
             <p> We are given 4 in the first line of input and in the next line we are given 4 words. So, this much is clear to us. Now the first thing we have to do is create subsets of this set of 4 words. But, there is a condition to making these subsets. In the third line of input we are given a number 9 which indicates the size of a character array and in the next line, we have a character array of size 9. But, what are these characters?
              </p>
              <p>This character array shows the frequency of these characters that can be present in the subset that we create. What do we mean by this? See, we are given 3 ‘d’ characters in the character array. This means that the subset that we will make can have a maximum of 3 times the character ‘d’in it. For instance, we can have a subset {dog, dad} as the number of times ‘d’ occurs in this subset is 3 which is equal to the max limit. But, we cannot have a subset like {dog, dad, good} as ‘d’ occurs 4 times which is greater than the max limit of occurrence of ‘d’.
               <br> So, now we know what kind of subsets we are allowed to make. But, we are still left with the last line of input. This line has 26 integers and these integers specify the score of each alphabet.
              <br> Now, we can calculate the score of a subset by adding the scores of all the alphabets in it. For instance:
                </p>
                <div class="img"><img class="articleImages" name="max-score_2.png" alt="img" /></div>
            
              <p>So, there are many valid subsets and each valid subset will have a score. So, we have to print the <b>maximum score out of the scores of the valid subsets.</b> We hope that you have understood the question completely. If you have any doubts regarding the question, refer to the video MAXIMUM SCORE OF WORDS to understand the question completely. Now, let us discuss the approach to solve this problem.
              </p>
              <div class="youtube-video">
                <iframe width="560" height="315" src="https://www.youtube.com/embed/XtmW3a8Q9M4?start=0&end=200" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
              </div>
              <p><b>Algorithm:</b></p>
              <ol>
                <li>We will iterate through every word in the array and each word will have two choices- to be included in the subset or not to be included in the subset.
                </li>
                <li>If the word is not included in the subset, the score of this word will be 0 and the total score will depend upon the further words in the array.
                </li>
                <li>If the word has to be included, we must check whether it can be included or not according to the max limit of each character given to us. 
                </li>
                <li>If it can be included, its score will be calculated by summing the score of every letter in it and this score will be added to the overall score of the subset. Still, the total score will depend upon the next words in the subset.
                </li>
              </ol>

            </div>
           </div>
         <div class="approach" id="approach">
          <div class="sub-heading-2">Method:
          </div>
            <div class="content">
          <!-- <ul>
            <li>First of all, let’s go through the rules of queen movement in chess:
            </li>
            <ol>
              <li>She can move horizontally.
              </li>
              <li>She can move vertically.
              </li>
              <li>She can move diagonally in both directions.
              </li>
            </ol>
            <li>Like previously, we will be solving this with recursion but with a new and better way.
            </li>
            <li>At each level of recursion, we will increase the current row. We do not need to check the row as at each row only one queen can be placed. To check for columns and diagonals, we will create three new Boolean array:
            </li>
          </ul>
          <ol>
            <li><b>Cols(column) array 
            </b>to check whether the current column is occupied by any other queen or not. If it is, we cannot place our queen on that column. Its size will be equal to N as there are N columns.</li>
            <li><b>Ndaig(normal) array</b> to check whether the current normal diagonal is occupied or not. If it is, we cannot place our queen on that box. Its size will be equal to 2*N - 1 as there are 2 * N - 1 diagonals in N X N board.
            </li>
            <li><b>Rdiag(reverse) array</b> to check whether the current reverse diagonal is occupied or not. If it is, we cannot place our queen on that box. Its size will be equal to 2*N - 1 as there are 2 * N - 1 diagonals in N X N board.
            </li>
           
          </ol>
          <ul>
            <li>Let the n be 4.
            </li>
          </ul> -->
          <p>Let us start by applying the general idea of what can be done. Firstly, we should be clear with what we have to do. We have to give the maximum score out of the valid subsets of words. So, we know that we have to make subsets during this process. Now, there are two possibilities for every word. Either we can include it in the subset or we cannot. This can also be thought of as every word as two choices, whether to come into the subset or not.
          </p>
          div class="img"><img class="articleImages" name="max-score_3.png" alt="img" /></div>
          <p>So, for every word, we will make two recursive calls. One which tells us that this word is not included and the other which tells us that this word is included.
          </p>
          <p><b>So, we are going to make two calls. One call will give us the score of the subset if the word which we are at (in the words array) is not included and the other call will tell us the score of the subset which includes the current word too.
          </b></p>
          <p>So, let us have a look at the procedure and let us try to devise the code simultaneously. </p>
          <p>To understand every possible case, let us say our index “idx” is currently as the position shown.
          </p>
          div class="img"><img class="articleImages" name="max-score_4.png" alt="img" /></div>
          <p>Dear reader, you need to understand carefully what all we have done when we are at the current position shown in the diagram. We have already visited two words and have calculated the scores of the subsets including and without including that word. This means that currently, we already have some subset to which we are deciding to add the word “dad”.
          </p>
          <p>So, we already have a score. Now, we want to see whether we should include the word dad or not. So, the first call is very simple. We simply move our index one step ahead and do not include the score of this word into our previous score.</p>
          <p>So, in the recursive function signature given in the question, we are given an array of words and a frequency array and a score array of size 26 and the index that we are currently in. (The frequency array is also of size 26 and has the frequency of each character that we can have at every index)
          </p>


          <!-- <p>For better understanding of the question, watch part of the video lecture.  Use recursion as suggested in the video.
          </p>

          <div class="youtube-video">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/yvt0emtFiIE?start=62&end=300" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
          </div> -->

            </div>  
            <div class="sub-heading-2">Why not include this Word?
            </div>
            <div class="content">
              <p>Now as discussed, we first want to calculate the score without including this word. Now, you might be thinking that if we will not include this word then definitely, the score will be less and we want to attain the maximum score. Well, you forgot that we still have words left in the words array and it might happen that the remaining words in the words array might give us the maximum score. So, yes, we have an option for not including this word and it is absolutely correct. So, if we don’t include this word, what will be the score returned by this? Well, its own score will be zero since it is not included but it will make the recursive call for the process to repeat for the next words. 
              </p>
              <p>This means that its own score will be zero and the total score will now depend on the score which comes from the further words.
              </p>
              <div class="img"><img class="articleImages" name="max-score_5.png" alt="img" /></div>
              <p>You may refer to the solution video to understand the above recurrence call that we have made.
              </p>
              <div class="youtube-video">
                <iframe width="560" height="315" src="https://www.youtube.com/embed/XtmW3a8Q9M4?start=201&end=285" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
              </div>
              <p>So, this was when we were not including the word into the subset. Now, let us say we want to include the word into the subset. So, how will we go about it?
              </p>
              
            </div>
            <div class="sub-heading-2">Including the word into the Subset

            </div>
            <div class="content">
              <!-- <ul>
                <li>  Here every element is filled with the difference of row and col index.
                </li>
                <div class="img"><img class="articleImages" name="N-Queens_2.png" alt="img" /></div>
                <li> Thus, we can see that every line represents the same item and they represent the reverse diagonal. As the number of lines is 2*N - 1. Therefore, the size of reverse diagonal is 2*N - 1.
                </li>
                <li>   As we cannot represent negative numbers as index of an array therefore we will add N - 1 to every element of 2D array to bring it in range of [0,2*N-1].
                </li>
                <li> New 2D array:
                </li>
                <div class="img"><img class="articleImages" name="N-Queens_2.png" alt="img" /></div>
                <li>  Therefore, the element with index (0,1) will be represented as the 2nd index of ndiag. If there is a queen on (0,1) then no queen can be placed on (1,2) and (2,3) too, therefore my marking 2nd index of rdiag we are restricting any queen on (1,2) and (2,3) too.
                </li>
                <li> Similarly, by marking any index of rdiag as true, we are restricting any other queen on the same diagonal.
                </li>
                <div class="img"><img class="articleImages" name="N-Queens_2.png" alt="img" /></div>
                <li>This array shows that index 2 of ndiag is storing the value for (2,0), (1,1) and (0,2) elements of the matrix.
                </li>
              </ul> -->
              <p>Let us recall our situation by looking at img-4 again.
              </p>
              <div class="img"><img class="articleImages" name="max-score_6.png" alt="img" /></div>
              <p>So, we are at this position in the array and we now want to calculate the score by including the current word.
              </p>
              <p>There were two possibilities or two options for every word i.e. to be included or not to be. Earlier, we calculated the score by not including the word. Now, we want to include the word but, it might happen that the word still does not get included in the subset. Why? This might happen if the word we are trying to include contains one or more characters whose frequency limit was already reached. So, if we try to include them, it will be an invalid subset. So, we have to count the score for inclusion of the word, only if it gets included.</p>
              <p>See, when we might have included some words before this word into the subset, we would have changed the frequency of the characters in the frequency array. We already would have reduced the frequency of those characters which appear in the words below. So, now when we include another word, we will check each character of the word and see the frequency of this character in the frequency array. If the frequency for a particular character is already 0 and this character is present in our word which we have to include, we will not be able to include this word as the max limit of occurrence of that character would be crossed.
              </p>
              <p>If the frequency for all the characters in the current word is such that we can include this word then, this word will be included. We also have to take care that there can be multiple instances of the same character in a word.
              </p>
              <p>Let us say that we have a situation where we are allowed to repeat the character ‘d’ 3 times at max. Let’s say we have repeated it  2 times already and the word that we want to include is “dad”. So, we will not be able to include it as it has 2 instances of character ‘d’ and we will cross the max limit if we include it. So, we have to take care of this too.
              </p>
              <p>Now if we include this word, the total score will become the score of  the current word + the score of the further words.
              </p>
              <div class="img"><img class="articleImages" name="max-score_7.png" alt="img" /></div>
              <p><b>Now, the maximum score is what we want, right? So, we will return the max score that will be the maximum out of the two scores that we have calculated, one including the current word and the other, without including the current word.</b></p>
              <p>Don’t forget to add the base case for recursion. What will be the base case? Well, we are traversing the array of words and deciding whether each word will come into the subset or not. So, if we reach the end of this array, we will have to return from here. This is the base case. 
              </p>
              <p><b>Base Case:</b> When index becomes equal to the size of the words array i.e. when we have traversed the words array completely then we have no word left to include in the subset. Since there is no word left, the score that we get from here will be 0. So, when idx==word.length, return 0.
              </p>
              
              <p>So, dear reader, we hope that you have understood the complete procedure. You may refer to the solution video to understand the above procedure and the code written below completely.
              </p>
              <div class="youtube-video">
                <iframe width="560" height="315" src="https://www.youtube.com/embed/XtmW3a8Q9M4?start=226" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
              </div>
              <p>Java Code
              </p>
            </div>

            <div class='codeEditor' id="1">
            <div class='editorialCode'>
              import java.io.*;
              import java.util.*;
               
              public class Main {
               
                public static int solution(String[] words, int[] farr, int[] score, int idx) {
                    
                    if(idx==words.length)
                    {
                        return 0;
                    }
                  
                  int sno=0 + solution(words,farr,score,idx+1);  //score of the subset when the word is not included
                  
                  int sword=0;
                  String word=words[idx];
                  boolean flag=true;
                  
                  for(int i=0;i< word.length();i++)
                  {
                      char ch=word.charAt(i);
                      if(farr[ch-'a'] ==0)
                      {
                          flag=false;
                      }
                      farr[ch-'a']--;
                      sword += score[ch-'a'];
                  }
                  
                  int syes=0;  //score of the subset when the word is included
                  if(flag)
                  {
                     syes=sword+solution(words,farr,score,idx+1);    
                  }
                  
                  for(int i=0;i< word.length();i++)
                  {
                      char ch=word.charAt(i);
                      farr[ch-'a']++;
                  }
                  
                  return Math.max(syes,sno);
                }
               
                public static void main(String[] args) {
               
                  Scanner scn = new Scanner(System.in);
                  int nofWords = scn.nextInt();
                  String[] words = new String[nofWords];
                  for(int i = 0 ; i < words.length; i++) {
                    words[i] = scn.next();
                  }
                  int nofLetters = scn.nextInt();
                  char[] letters = new char[nofLetters];
                  for (int i = 0; i < letters.length; i++) {
                    letters[i] = scn.next().charAt(0);
                  }
                  int[] score = new int[26];
                  for (int i = 0; i < score.length; i++) {
                    score[i] = scn.nextInt();
                  }
                  if (words == null || words.length == 0 || letters == null || letters.length == 0 || score == null
                      || score.length == 0) {
                    System.out.println(0);
                    return;
                  }
                  int[] farr = new int[score.length];
                  for (char ch : letters) {
                    farr[ch - 'a']++;
                  }
                  System.out.println(solution(words, farr, score, 0));
               
                }
              }
              

            </div>
            <pre class='output'>
            </pre>
            <span type='text' class='language' style='width:40%;margin-right:5%'>java</span>;
            <span type='text' style='width:40%' class='canRunCode' name='canRunCode'>true</span>";
        </div>

        <!-- <div class="sub-heading-2">Code Explained:
        </div> -->
        <div class="content">
          <!-- <ul>
            <li>At each level of recursion, we will:<br>
              <b>use a for loop to go through every column. 
              </b>
              </li>
            <li>If the<b> cols[col] == false and rdiag[row - col + N - 1] ==  false && ndiag[col + row] == false ,</b>it means that there is no other queen that can kill the current queen .Therefore, we will <b>place our queen on that box and mark the cols[col] , rdiag[ row -  col + N - 1] and ndiag[col+ row] as true </b>in preorder(VISIT).
            </li>
            <li>We will then <b> make a call for the next row.</b>
            </li>
            <li>We will<b> unvisit the visited cols, rdiag and ndiag in post order and mark cols[col], ndiag[row+col] and rdiag[row - col + N - 1] as false.</b>
            </li>
            <li><b>Base Case: When the row will be equal to the length of board, we will print our asf and return.
            </b></li>
          </ul> -->

          <p>So, dear reader, we hope that you have understood the complete procedure. If you still have any doubts about the procedure or the code, you may refer to the complete solution video to clear all your doubts. Let us now discuss the time and space complexity of the above code.
          </p>
          <div class="youtube-video">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/XtmW3a8Q9M4?start=4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
          </div>
        



         <div class="analysis">
          <div class="sub-heading-2">Complexities:O()</div>
            <div class="sub-heading-2">Time Complexity:</div>
            <div class="content">
             <p> The time complexity for the above solution is O(2n) where n is the number of input words. This is because we have n words and every word has two choices i.e. to be included in the subset or not to be. You might be thinking what about the validation that we applied? We are not generating 2n subsets, rather only the valid ones. Actually, this is not completely true. Backtracking generates all the possible subsets and we select the valid subsets from them. So, we are creating 2n subsets and hence the time complexity becomes 2n.
            </p>
            </div>
            <div class="sub-heading-2">Space Complexity:
            </div>
            <div class="content">
              <p>The space complexity of the above solution is O(h) where h is the height of the recursion stack and O(1) without considering the recursion space as we have not used any extra memory other than recursion.
              </p>
              <p>So, dear reader, hope that you got the above solution completely and have also understood the time and space complexity analysis. If you still have any doubts regarding this problem, you should refer to the complete solution video to clear all your doubts. With this, we have completed this problem.
              </p>
              <div class="youtube-video">
                <iframe width="560" height="315" src="https://www.youtube.com/embed/XtmW3a8Q9M4?start=5" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
              </div>
              
            </div>
            <div class="sub-heading-2">Suggestions:</div>
            <div class="content">
              <p>Here are some suggestions from our side that you do not want to miss:
              </p>
              <ol>
                <li>We recommend you watch the complete solution video at least once to get the entire concept with full clarity in your mind.
                </li>
                <div class="youtube-video">
                  <iframe width="560" height="315" src="https://www.youtube.com/embed/XtmW3a8Q9M4?start=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
                <li>We also recommend that you dry run the code once with the procedure to understand what exactly is happening behind the scenes in the recursion. So, keep practicing and moving forward.</li>
              </ol>
              <p>All the best for an exciting future!<br>
                Happy Coding!
                </p>
            </div>
        </div>
        </div>
    
  

        <div class="article-tags">

          <div class="tag">Arrays </div>

        </div>
        <div class="author">
          <div class="sub-heading-2">Author:
                <span>  Nikita Aggarwal
                </span>
          </div>
        </div>
        <div class="share-options">
            <p class="share-options-heading">Share this article</p>
            <div class="">
                <div class="span"><i class="fa fa-facebook"></i>
                    <p class="social-media-name">Facebook</p>
                </div>
                <div class="span"><i class="fa fa-twitter"></i>
                    <p class="social-media-name">Twitter</p>
                </div>
                <div class="span"><i class="fa fa-instagram"></i>
                    <p class="social-media-name">Instagram</p>
                </div>
                <div class="span"><i class="fa fa-whatsapp"></i>
                    <p class="social-media-name">Whatsapp</p>
                </div>
                <div class="span"><i class="fa fa-linkedin"></i>
                    <p class="social-media-name">Linkedin</p>
                </div>
            </div>
        </div>
        <div class="lineBreak" style="margin-top: 30px;"></div>
        <div class="img-zoom-div">
            <div class="img-zoom-div-close-btn"><i class="fa fa-times"></i></div>
            <div class="img-zoom-div-img"><img src="" alt="" /></div>
        </div>
      </div>
</div>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
    href="https://fonts.googleapis.com/css2?family=Asap:ital,wght@1,500&family=Fredoka+One&family=Marck+Script&family=Merienda:wght@700&family=Parisienne&family=Source+Code+Pro:wght@600&family=Varela+Round&display=swap"
    rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.2.0/styles/monokai.css" />
<link
    href="https://fonts.googleapis.com/css2?family=Mulish:wght@300&family=Source+Code+Pro:wght@300&family=Spartan:wght@500&display=swap"
    rel="stylesheet">
</div>


    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>
    <script src="./closeZoomImgDiv.js"></script>
    <script src="./bookmark.js"></script>
    <script src="/ace-builds/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
<script>



    var aceEditorInstance = ace.edit( "editor1" );


aceEditorInstance.setTheme("ace/theme/twilight");
// inline must be true to syntax highlight
aceEditorInstance.getSession().setMode( { path: "ace/mode/c_cpp", inline: true } );

// editor 2
  var aceEditorInstance2 = ace.edit( "editor2" );


aceEditorInstance2.setTheme("ace/theme/twilight");
// inline must be true to syntax highlight
aceEditorInstance2.getSession().setMode( { path: "ace/mode/c_cpp", inline: true } );

// editor 3
  var aceEditorInstance3 = ace.edit( "editor3" );


aceEditorInstance3.setTheme("ace/theme/twilight");
// inline must be true to syntax highlight
aceEditorInstance3.getSession().setMode( { path: "ace/mode/c_cpp", inline: true } );
/**
 * Global variable to store the ids of the status of the current dragged ace editor.
 */
window.draggingAceEditor = {};

function makeAceEditorResizable(editor){
    var id_editor = editor.container.id;
    var id_dragbar = '#' + id_editor + '_dragbar';
    var id_wrapper = '#' + id_editor + '_wrapper';
    var wpoffset = 0;
    window.draggingAceEditor[id_editor] = false;

    $(id_dragbar).mousedown(function(e) {
        e.preventDefault();

        window.draggingAceEditor[id_editor] = true;
    
        var _editor = $('#' + id_editor);
        var top_offset = _editor.offset().top - wpoffset;
    
        // Set editor opacity to 0 to make transparent so our wrapper div shows
        _editor.css('opacity', 0);
    
        // handle mouse movement
        $(document).mousemove(function(e){
            var actualY = e.pageY - wpoffset;
            // editor height
            var eheight = actualY - top_offset;
            
            // Set wrapper height
            $(id_wrapper).css('height', eheight);
            
            // Set dragbar opacity while dragging (set to 0 to not show)
            $(id_dragbar).css('opacity', 0.15);
        });
    });
    
    $(document).mouseup(function(e){
        if (window.draggingAceEditor[id_editor])
        {
            var ctx_editor = $('#' + id_editor);
    
            var actualY = e.pageY - wpoffset;
            var top_offset = ctx_editor.offset().top - wpoffset;
            var eheight = actualY - top_offset;
    
            $( document ).unbind('mousemove');
            
            // Set dragbar opacity back to 1
            $(id_dragbar).css('opacity', 1);
            
            // Set height on actual editor element, and opacity back to 1
            ctx_editor.css('height', eheight).css('opacity', 1);
            
            // Trigger ace editor resize()
            editor.resize();

            window.draggingAceEditor[id_editor] = false;
        }
    });
}


makeAceEditorResizable(aceEditorInstance);



</script>

<script>
    var run = document.getElementsByClassName('run')[0]
    var input = document.getElementById('custom_input')
    var language = document.getElementById('language')
    

    run.addEventListener('click', function(){
        
        var unformatted = document.getElementById('editor1').innerText
        var formatted = unformatted.split("\n")
        var final = []
        formatted.forEach(ele=>{
            if(!parseInt(ele))
            final.push(ele)
        
        })
        final = final.join(' ')
        
        var input_text = input.value
        var final_input_text = input_text.split('\n').join(' ')


         
        //language
        const languageValue = language.options[language.selectedIndex].value;
        //const text = language.options[language.selectedIndex].text;
        
        //fetch statement here...

        // fetch('/compileCode',{
        //     method:'post',
        //     headers:{
        //         'Content-Type':'appliation/json'
        //     },
        //     body:JSON.stringify({
        //         input:final_input_text,
        //         code:final,
        //         language:languageValue
        //     })
        // })

             
        alert(JSON.stringify({"code":final, "testcase":final_input_text, "language": languageValue}))
        }
    )
</script>
<script>
    //tabbar btn control
    function tabBar(index){
       
        if(index===0){ 
            // show input textarea
            document.getElementById('custom_output').style.display='none'
            document.getElementById('custom_input').style.display='block'
            document.getElementById('tabBar_0').style.color='rgba(0, 0, 0, 1)'
            document.getElementById('tabBar_1').style.color='rgba(0, 0, 0, 0.479)'
        }
        else{
            // show output textarea
            document.getElementById('custom_output').style.display='block'
            document.getElementById('custom_input').style.display='none'
            document.getElementById('tabBar_1').style.color='rgba(0, 0, 0, 1)'
            document.getElementById('tabBar_0').style.color='rgba(0, 0, 0, 0.479)'
        }
    }
    
</script>
  </body>
</html>
