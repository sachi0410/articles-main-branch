<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
     <title>Longest Bitonic Subsequence </title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js" integrity="sha512-GZ1RIgZaSc8rnco/8CXfRdCpDxRCphenIiZ2ztLy3XQfCbQUSCuk8IudvNHxkRA3oUg6q0qejgN/qqyG1duv5Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ext-language_tools.min.js" integrity="sha512-8qx1DL/2Wsrrij2TWX5UzvEaYOFVndR7BogdpOyF4ocMfnfkw28qt8ULkXD9Tef0bLvh3TpnSAljDC7uyniEuQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Asap:ital,wght@1,500&family=Fredoka+One&family=Marck+Script&family=Merienda:wght@700&family=Parisienne&family=Source+Code+Pro:wght@600&family=Varela+Round&display=swap" rel="stylesheet">
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/highlight.js@11.2.0/styles/monokai.css"
    />
  <link href="https://fonts.googleapis.com/css2?family=Mulish:wght@300&family=Source+Code+Pro:wght@300&family=Spartan:wght@500&display=swap" rel="stylesheet">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="style.css">
   <!--  <link rel="stylesheet" href="query.css"> -->


  </head>
  <body>
  <div class="article1">
    <div class="article-1-outerbox">
        <div class="Circles hide-on-med-and-down">
          <div class="c1"></div>
          <div class="c2"></div>
        </div>
        <div class="topic-name">
            <p>Longest Bitonic Subsequence 
            </p> 
        </div>
        <a class="ca3-scroll-down-link ca3-scroll-down-arrow " data-ca3_iconfont="ETmodules" data-ca3_icon="">
            <i class="fa fa-chevron-down"></i>
        </a>
        <br><br><br><br>
        <div class="qoute">
            <br><br>
            <p>Wherever you go, no matter what the weather, always bring your own sunshine.<br>~Anthony J. D’Angelo </p>
            <i class="fa fa-quote-right qoute-icon"></i>
        </div>
    </div>
    <div class="question-logo"><i class="fa fa-quora"></i></div>
    <div class="ques-info">Longest Bitonic Subsequence 
    </div>
    <div class="article-info">
        <div class="article-divider" style="margin-top:0px ;"></div>
        <div class="article-content">
          <div class="content">
            <p>Welcome Back Reader!
            </p>
            <p>In this article we will discuss about the next problem based on
          <br> <b>“Dynamic Programming” i.e. “Longest Bitonic Subsequence”. </b></p>

            <p><b>Important Links :</b> <a href="https://www.pepcoding.com/resources/data-structures-and-algorithms-in-java-levelup/dynamic-programming/lis-official/ojquestion" target="_blank">Problem Link</a>, <a href="https://youtu.be/odrfUCS9sQk" target="_blank">Question Video</a> , <a href="https://youtu.be/odrfUCS9sQk" target="_blank">Solution Video</a> </p><br>
             <p>Before you move any further, it is advised that you give <a href="https://youtu.be/jdfpGSSyN2I" target="_blank">this problem</a> a fair try.
            </p>
            <p>Let’s jump to the problem.</p>              
           </div>
        </div>
       
        <div class="understandingProb">
          <div class="sub-heading-1">Understanding the problem:
          </div>
            <div class="content">
             <p>In this problem you are given a number n, representing the number of elements of the array. This n is followed by n numbers representing the contents of an array of length n.

             </p>
            <p><b>All you are required to do is to print the length of the longest bitonic subsequence of the array. 
            </b>
            </p>
            <p><b>Note:</b> Bitonic subsequence begins with elements in increasing order, followed by elements in decreasing order.
            </p>
          </div>
          <div class="sub-heading-2">For example:</div>
          <div class="content">
            <p><b>Sample Input: </b> 10   10   22   9   33   21   50   41   60   80   1
            </p>
            <p><b>Sample Output:</b> 7
            </p>
          </div>
          <div class="sub-heading-2">How ?</div>
          <div class="content">
            <p>As we can see that 10, 22, 33, 50, 60, 80, 1 is the longest Bitonic Subsequence; it increases from 10 to 80 and then decreases to 1. And since its length is 7, the output becomes 7.

            </p>
            <p><b>For more clarity of the question, watch this part of the video. 
            </b></p>
            <div class="youtube-video">
              <iframe width="560" height="315" src="https://www.youtube.com/embed/jdfpGSSyN2I?start=1&end=30" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
          </div>
          <div class="approach" id="approach">
          <div class="sub-heading-1">Approach:</div>
            <div class="content">
              <ul>
                <li>In this problem we need to calculate the length of the longest occurring bitonic subsequence in an array. 
                </li>
                <li>To solve this problem we will use the same trick, which we used while solving Longest Increasing Subsequence.
                </li>
                <li>First of all, while travelling the array from left to right we will calculate the length of Increasing Subsequence corresponding to each element.

                </li>
                <li>For example, in the sample input array, while travelling from left to right, for element 33, we will store the count as 3; corresponding to 33, which represents length of increasing subsequence (10, 22 and 33).

                </li>
               
                <li>After completing the traversal from left to right, we will now traverse the array again but this time from right to left and this time we will store the length of decreasing subsequence corresponding to each element.
 
                </li>
                <li>For example, in the sample input array, while travelling from right to left, for element 33, we will store the count as 3; corresponding to 33, which represents length of decreasing subsequence (33, 21 and 1).
                </li>
                <li>Then we will again travel the array from left to right to calculate the length of bitonic subsequence, corresponding to each element by using the length of increasing subsequence and decreasing subsequence corresponding to that element.
                </li>
                <li>For each element, we can calculate the length of bitonic subsequence as:
                </li>
                <p>Length of bitonic subsequence = length of increasing subsequence +    
                  length of decreasing subsequence -1. </p>
                <li>For example, for element 33, we have 3 as the length of both increasing subsequence (10, 22 and 33) and for decreasing subsequence (33, 21 and 1). So the length of the bitonic subsequence (10, 22, 33, 21, 9) for this point becomes 5 (3 + 3 – 1 = 5).</li> 
                <li>We basically subtract 1 because that particular element is counted twice, once in the length of increasing subsequence and then in the length of decreasing subsequence.
                </li>
                <li>And while travelling the array last time i.e. for calculating the length of bitonic subsequence for each point, we will maintain a variable omax (Overall Maximum) which will store the length of longest bitonic subsequence so far. 
              </li>
                <p><b>For more clarity of this part, watch this part of the video. 
              </b></p>
              <div class="youtube-video">
                <iframe width="560" height="315" src="https://www.youtube.com/embed/jdfpGSSyN2I?start=30&end=722" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
              </div>
              <p>Let’s try to code this!</p>
              <div class="img"><img class="articleImages" name="longest_bitonic_subsequence_1.png" alt="img" /></div>
              <li>The above code snippet is used for calculating length of increasing subsequence for each element.</li>
              <li>This is exactly the same as the code for calculating longest increasing subsequence. So if you have any doubt then please check out the video of the longest increasing subsequence.</li>
              <div class="img"><img class="articleImages" name="longest_bitonic_subsequence_2.png" alt="img" /></div>
              <div class="img"><img class="articleImages" name="longest_bitonic_subsequence_3.png" alt="img" /></div>
              <li>The above code snippet is used for calculating length of decreasing subsequence for each element.</li>
              <li>This is almost the same as the code for calculating longest increasing subsequence.  
              </li>
              <li>The only change is that we need to run a reverse loop this time.</li>
              <div class="img"><img class="articleImages" name="longest_bitonic_subsequence_4.png" alt="img" /></div>
              <li>Now, we need to calculate the length of the longest subsequence.

              </li>
              <li>For this we take a variable omax (overall maximum) and initialize it with 0 and 

              </li>
              <li>Then we run a for loop on the length of the array and we check if the length of the bitonic subsequence at each element, greater than omax.
              </li>
              <li>If it is greater than we update omax.
              </li>
              <li>When we come out of this for loop, omax will store the length of longest bitonic subsequence, which is our required result, so we simply print omax.
              </li>
              <p><b>For more clarity of the code, watch this part of the video. 
              </b></p>
              <div class="youtube-video">
                <iframe width="560" height="315" src="https://www.youtube.com/embed/jdfpGSSyN2I?start=722&end=1013" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
              </div>
            </ul>
            </div>  
        </div> 
        <div class="analysis">
          <div class="sub-heading-1">Complexities:
          </div>
            <div class="sub-heading-2">Time Complexity: O(n^2)
            </div>
            <div class="content">
             <p> A nested for loop is used 2 times and a single for loop once, which condenses to O(n^2).
            </p>
            </div>
             <div class="sub-heading-2">Space Complexity: O(n)
            </div>
            <div class="content">
              <p> Two n sized arrays are used which condenses to O(n).

              </p>
              <p>Complete Code:</p>
            </div>
        </div>

        <div class='codeEditor' id="1">
            <div class='editorialCode'>
              import java.io.*;
              import java.util.*;

              public class Main {

              public static void main(String[] args) throws Exception {
              BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
              int n = Integer.parseInt(br.readLine());
              int[] arr = new int[n];
              for (int i = 0; i < arr.length; i++) {
              arr[i] = Integer.parseInt(br.readLine());
              }

              int[] lis = new int[arr.length];
              for(int i = 0; i < arr.length; i++){
              Integer max = null;

              for(int j = 0; j < i; j++){
              if(arr[j] <= arr[i]){
              if(max == null || lis[j] > max){
              max = lis[j];
              }
              }
              }

              if(max != null){
              lis[i] = max + 1;
              } else {
              lis[i] = 1;
              }
              }

              int[] lds = new int[arr.length];
              for(int i = arr.length - 1; i >= 0; i--){
              Integer max = null;

              for(int j = arr.length - 1; j > i; j--){
              if(arr[j] <= arr[i]){
              if(max == null || lds[j] > max){
              max = lds[j];
              }
              }
              }

              if(max != null){
              lds[i] = max + 1;
              } else {
              lds[i] = 1;
              }
              }

              int omax = 0;
              for(int i = 0; i < arr.length; i++){
              if(lis[i] + lds[i] - 1> omax){
              omax = lis[i] + lds[i] - 1;
              }
              }
              System.out.println(omax);
              }

              }                       

            </div>
            <pre class='output'>
            </pre>
            <span type='text' class='language' style='width:40%;margin-right:5%'>java</span>;
            <span type='text' style='width:40%' class='canRunCode' name='canRunCode'>true</span>";
        </div>
        <div class="analysis">
        <div class="content">
        <p>We hope that this article was helpful. If somehow you are finding it difficult to understand this problem then we advise you to watch our <a href="https://youtu.be/jdfpGSSyN2I" target="_blank"> video lecture of this problem. </a>
 

      </p>
      <p>Trust me it will just get easier to understand after you have watched the solution video.

      </p>
      <p>You can contact us via our website. Doubts, suggestions and feedback are always welcomed.
      </p>
      <p>It is also advised that you follow the sequence of modules and questions which is there on our website. 
      </p>
      <p>Keep practicing more and more problems daily. Meditate enough on each step of each problem.
      </p>
        <p>All the best for an exciting future!<br>
          Happy Coding!</p>
        </div>
        </div>
    </div>

        <div class="article-tags">

          <div class="tag">Arrays </div>
          <div class="tag">Dynamic Programming 
          </div>

        </div>
        <div class="author">
          <div class="sub-heading-2">Author:
                <span> Nikita Aggarwal


                </span>
          </div>
        </div>
        <div class="share-options">
            <p class="share-options-heading">Share this article</p>
            <div class="">
                <div class="span"><i class="fa fa-facebook"></i>
                    <p class="social-media-name">Facebook</p>
                </div>
                <div class="span"><i class="fa fa-twitter"></i>
                    <p class="social-media-name">Twitter</p>
                </div>
                <div class="span"><i class="fa fa-instagram"></i>
                    <p class="social-media-name">Instagram</p>
                </div>
                <div class="span"><i class="fa fa-whatsapp"></i>
                    <p class="social-media-name">Whatsapp</p>
                </div>
                <div class="span"><i class="fa fa-linkedin"></i>
                    <p class="social-media-name">Linkedin</p>
                </div>
            </div>
        </div>
        <div class="lineBreak" style="margin-top: 30px;"></div>
        <div class="img-zoom-div">
            <div class="img-zoom-div-close-btn"><i class="fa fa-times"></i></div>
            <div class="img-zoom-div-img"><img src="" alt="" /></div>
        </div>
      </div>
</div>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
    href="https://fonts.googleapis.com/css2?family=Asap:ital,wght@1,500&family=Fredoka+One&family=Marck+Script&family=Merienda:wght@700&family=Parisienne&family=Source+Code+Pro:wght@600&family=Varela+Round&display=swap"
    rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.2.0/styles/monokai.css" />
<link
    href="https://fonts.googleapis.com/css2?family=Mulish:wght@300&family=Source+Code+Pro:wght@300&family=Spartan:wght@500&display=swap"
    rel="stylesheet">
</div>


    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>
    <script src="./closeZoomImgDiv.js"></script>
    <script src="./bookmark.js"></script>
    <script src="/ace-builds/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
<script>



    var aceEditorInstance = ace.edit( "editor1" );


aceEditorInstance.setTheme("ace/theme/twilight");
// inline must be true to syntax highlight
aceEditorInstance.getSession().setMode( { path: "ace/mode/c_cpp", inline: true } );

// editor 2
  var aceEditorInstance2 = ace.edit( "editor2" );


aceEditorInstance2.setTheme("ace/theme/twilight");
// inline must be true to syntax highlight
aceEditorInstance2.getSession().setMode( { path: "ace/mode/c_cpp", inline: true } );

// editor 3
  var aceEditorInstance3 = ace.edit( "editor3" );


aceEditorInstance3.setTheme("ace/theme/twilight");
// inline must be true to syntax highlight
aceEditorInstance3.getSession().setMode( { path: "ace/mode/c_cpp", inline: true } );
/**
 * Global variable to store the ids of the status of the current dragged ace editor.
 */
window.draggingAceEditor = {};

function makeAceEditorResizable(editor){
    var id_editor = editor.container.id;
    var id_dragbar = '#' + id_editor + '_dragbar';
    var id_wrapper = '#' + id_editor + '_wrapper';
    var wpoffset = 0;
    window.draggingAceEditor[id_editor] = false;

    $(id_dragbar).mousedown(function(e) {
        e.preventDefault();

        window.draggingAceEditor[id_editor] = true;
    
        var _editor = $('#' + id_editor);
        var top_offset = _editor.offset().top - wpoffset;
    
        // Set editor opacity to 0 to make transparent so our wrapper div shows
        _editor.css('opacity', 0);
    
        // handle mouse movement
        $(document).mousemove(function(e){
            var actualY = e.pageY - wpoffset;
            // editor height
            var eheight = actualY - top_offset;
            
            // Set wrapper height
            $(id_wrapper).css('height', eheight);
            
            // Set dragbar opacity while dragging (set to 0 to not show)
            $(id_dragbar).css('opacity', 0.15);
        });
    });
    
    $(document).mouseup(function(e){
        if (window.draggingAceEditor[id_editor])
        {
            var ctx_editor = $('#' + id_editor);
    
            var actualY = e.pageY - wpoffset;
            var top_offset = ctx_editor.offset().top - wpoffset;
            var eheight = actualY - top_offset;
    
            $( document ).unbind('mousemove');
            
            // Set dragbar opacity back to 1
            $(id_dragbar).css('opacity', 1);
            
            // Set height on actual editor element, and opacity back to 1
            ctx_editor.css('height', eheight).css('opacity', 1);
            
            // Trigger ace editor resize()
            editor.resize();

            window.draggingAceEditor[id_editor] = false;
        }
    });
}


makeAceEditorResizable(aceEditorInstance);



</script>

<script>
    var run = document.getElementsByClassName('run')[0]
    var input = document.getElementById('custom_input')
    var language = document.getElementById('language')
    

    run.addEventListener('click', function(){
        
        var unformatted = document.getElementById('editor1').innerText
        var formatted = unformatted.split("\n")
        var final = []
        formatted.forEach(ele=>{
            if(!parseInt(ele))
            final.push(ele)
        
        })
        final = final.join(' ')
        
        var input_text = input.value
        var final_input_text = input_text.split('\n').join(' ')


         
        //language
        const languageValue = language.options[language.selectedIndex].value;
        //const text = language.options[language.selectedIndex].text;
        
        //fetch statement here...

        // fetch('/compileCode',{
        //     method:'post',
        //     headers:{
        //         'Content-Type':'appliation/json'
        //     },
        //     body:JSON.stringify({
        //         input:final_input_text,
        //         code:final,
        //         language:languageValue
        //     })
        // })

             
        alert(JSON.stringify({"code":final, "testcase":final_input_text, "language": languageValue}))
        }
    )
</script>
<script>
    //tabbar btn control
    function tabBar(index){
       
        if(index===0){ 
            // show input textarea
            document.getElementById('custom_output').style.display='none'
            document.getElementById('custom_input').style.display='block'
            document.getElementById('tabBar_0').style.color='rgba(0, 0, 0, 1)'
            document.getElementById('tabBar_1').style.color='rgba(0, 0, 0, 0.479)'
        }
        else{
            // show output textarea
            document.getElementById('custom_output').style.display='block'
            document.getElementById('custom_input').style.display='none'
            document.getElementById('tabBar_1').style.color='rgba(0, 0, 0, 1)'
            document.getElementById('tabBar_0').style.color='rgba(0, 0, 0, 0.479)'
        }
    }
    
</script>
  </body>
</html>
